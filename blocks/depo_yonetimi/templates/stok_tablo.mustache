<!-- templates/stok_tablo.mustache -->
<div class="stok-listesi mt-4">
    <h4 class="mb-3"><i class="fas fa-boxes me-2"></i>Stok Listesi</h4>

    {{#varyasyonlar}}
        <div class="table-responsive">
            <table class="table table-hover table-striped">
                <thead class="table-light">
                <tr>
                    <th>#</th>
                    <th>Ürün</th>
                    <th>Ana Ürün</th>
                    <th>Varyasyon</th>
                    <th>Kategori</th>
                    <th>Depo</th>
                    <th class="text-center">Stok Durumu</th>
                    <th class="text-end">İşlemler</th>
                </tr>
                </thead>
                <tbody>
                {{#.}}
                    <tr>
                        <td>{{id}}</td>
                        <td>{{name}}</td>
                        <td>{{parent_name}}</td>
                        <td>
                            {{#color}}<span class="badge bg-secondary me-1">{{color}}</span>{{/color}}
                            {{#size}}<span class="badge bg-info">{{size}}</span>{{/size}}
                        </td>
                        <td>{{kategori_adi}}</td>
                        <td>{{depo_adi}}</td>
                        <td class="text-center">
                            <span class="badge {{stok_class}}">{{adet}} adet ({{stok_durum}})</span>
                        </td>
                        <td class="text-end">
                            <a href="{{duzenle_url}}" class="btn btn-sm btn-primary">
                                <i class="fas fa-edit"></i> Düzenle
                            </a>
                        </td>
                    </tr>
                {{/.}}
                </tbody>
            </table>
        </div>
    {{/varyasyonlar}}

    {{^varyasyonlar}}
        <div class="alert alert-warning">
            <i class="fas fa-exclamation-triangle me-2"></i>
            Seçili kriterlere uygun stok bulunamadı.
        </div>
    {{/varyasyonlar}}

    {{#has_pagination}}
        <div class="d-flex justify-content-center mt-4">
            {{{pagination_html}}}
        </div>
    {{/has_pagination}}
</div>

<style>
    .stock-good {
        background-color: #198754;
    }
    .stock-medium {
        background-color: #ffc107;
        color: #212529;
    }
    .stock-low {
        background-color: #dc3545;
    }
</style>